
" æ‰“å¼€è¯­æ³•é«˜äº®
syntax on
" åœ¨å±å¹•å³ä¸‹è§’æ˜¾ç¤ºæ­£åœ¨è¾“å…¥çš„å‘½ä»¤
set showcmd
" æ˜¾ç¤ºè¡Œå·å’Œç›¸å¯¹è¡Œå·
set number
set relativenumber
" æ‰“å¼€æ–‡ä»¶æ—¶æŠ˜å æ‰€æœ‰ä»£ç å—
set foldlevelstart=0

" ç»„åˆé”®å‰ç¼€
let mapleader = ";"
" é’ˆå¯¹ç‰¹å®šæ–‡ä»¶ç±»å‹çš„ç»„åˆé”®å‰ç¼€
let maplocalleader = ","

" å¿«æ·é”®
" æ‰€æœ‰æ¨¡å¼{{{
" åˆ é™¤æ–¹å‘é”®çš„æ˜ å°„ï¼Œå¼ºåˆ¶ä½¿ç”¨ä¸»é”®ç›˜
noremap <Up> <nop>
noremap <Down> <nop>
noremap <Left> <nop>
noremap <Right> <nop>
" }}}
" æ™®é€šæ¨¡å¼{{{
" æŒ‰ä¸‹<C-u>å°†å…‰æ ‡å½“å‰æ‰€åœ¨å•è¯è½¬æ¢ä¸ºå¤§å†™æ ¼å¼
nnoremap <C-u> viwU<esc>
inoremap <C-u> <esc>viwUi
" ç¼–è¾‘æˆ‘çš„vimrcæ–‡ä»¶
nnoremap <leader>ev :vsplit $MYVIMRC<cr>
" é‡æ–°è½½å…¥æˆ‘çš„vimrcæ–‡ä»¶
nnoremap <leader>sv :source $MYVIMRC<cr>
" å…³é—­æ‰€æœ‰çª—å£
nnoremap <leader>c :only<cr>:q<cr>
" ä¿å­˜
nnoremap <leader>w :w<cr>
" å…³é—­å½“å‰æ–‡ä»¶
nnoremap <leader>q :q<cr>
" å…³é—­å¹¶ä¿å­˜å½“å‰æ–‡ä»¶
nnoremap <leader>x :x<cr>
" ç”¨åŒå¼•å·æ‹¬èµ·å…‰æ ‡æ‰€åœ¨å•è¯
nnoremap <leader>" viw<esc>a"<esc>hbi"<esc>lel
" å°†H, Læ˜ å°„åˆ°æ–‡ä»¶0, $
nnoremap H 0
nnoremap L $
" åˆ‡æ¢çª—å£å¿«æ·é”®
nnoremap <leader>h <C-w><C-h>
nnoremap <leader>j <C-w><C-j>
nnoremap <leader>k <C-w><C-k>
nnoremap <leader>l <C-w><C-l>
" }}}
" æ’å…¥æ¨¡å¼{{{
" ä¸º<esc>æ·»åŠ æ˜ å°„ï¼Œå‡è½»å·¦æ‰‹è´Ÿæ‹…
inoremap jk <esc>
inoremap <esc> <nop>
inoremap <C-c> <nop>
" }}}



" è‡ªåŠ¨æ‹“å±•å­—ç¬¦ä¸²{{{
iabbrev @@ lucianosimon399@yahoo.com
" }}}

" è‡ªåŠ¨æ‰§è¡Œçš„å‘½ä»¤{{{
augroup mygroup
autocmd!
" æ‰“å¼€ä¸€ä¸ªæ–°æ–‡ä»¶æ—¶è‡ªåŠ¨ä¿å­˜
" :autocmd BufNewFile * :write
" æ ¹æ®æ–‡ä»¶ç±»å‹è®¾ç½®ä¸åŒçš„æ³¨é‡Šå‘½ä»¤
autocmd FileType javascript,c,cpp nnoremap <buffer> <localleader>\ I//<esc>
autocmd FileType python nnoremap <buffer> <localleader>\ I#<esc>
autocmd FileType vim nnoremap <buffer> <localleader>\ I" <esc>
" æ ¹æ®æ–‡ä»¶ç±»å‹è®¾å®šä¸åŒçš„è‡ªåŠ¨è¡¥å…¨
autocmd FileType python :iabbrev <buffer> imp import
autocmd FileType c,cpp :iabbrev <buffer> inc #inc
augroup END
" Vimscript file settings {{{
augroup filetype_vim
autocmd!
" å¯¹vimè„šæœ¬æ–‡ä»¶å¯ç”¨markeræŠ˜å æ–¹æ³•
autocmd FileType vim setlocal foldmethod=marker
augroup END
" }}}
" }}}


" Vundleé…ç½®{{{
set nocompatible              " be iMproved, required
filetype off                  " required

" set the runtime path to include Vundle and initialize
set rtp+=~/.vim/bundle/Vundle.vim
call vundle#begin()
" alternatively, pass a path where Vundle should install plugins
"call vundle#begin('~/some/path/here')

" let Vundle manage Vundle, required
Plugin 'VundleVim/Vundle.vim'

" The following are examples of different formats supported.
" Keep Plugin commands between vundle#begin/end.
" plugin on GitHub repo
Plugin 'tpope/vim-fugitive'
" plugin from http://vim-scripts.org/vim/scripts.html
Plugin 'L9'
" Git plugin not hosted on GitHub
"Plugin 'git://git.wincent.com/command-t.git'
" git repos on your local machine (i.e. when working on your own plugin)
"Plugin 'file:///home/gmarik/path/to/plugin'
" The sparkup vim script is in a subdirectory of this repo called vim.
" Pass the path to set the runtimepath properly.
Plugin 'rstacruz/sparkup', {'rtp': 'vim/'}
" Install L9 and avoid a Naming conflict if you've already installed a
" different version somewhere else.
"Plugin 'ascenator/L9', {'name': 'newL9'}

Plugin 'vim-airline/vim-airline'
Plugin 'vim-airline/vim-airline-themes'

"æ–‡ä»¶æ ‘
Plugin 'scrooloose/nerdtree'
" è¿™ä¸ªæ’ä»¶å¯ä»¥æ˜¾ç¤ºæ–‡ä»¶çš„Gitå¢åˆ çŠ¶æ€
Plugin 'Xuyuanp/nerdtree-git-plugin'

"å…¨å±€æœç´¢
Plugin 'kien/ctrlp.vim'

"taglist
Plugin 'vim-scripts/taglist.vim'

"è‡ªåŠ¨å®Œæˆ
Plugin 'vim-scripts/OmniCppComplete'

"Plugin 'Valloric/YouCompleteMe'

" All of your Plugins must be added before the following line
call vundle#end()            " required
filetype plugin indent on    " required
" To ignore plugin indent changes, instead use:
"filetype plugin on
"
" Brief help
" :PluginList       - lists configured plugins
" :PluginInstall    - installs plugins; append `!` to update or just :PluginUpdate
" :PluginSearch foo - searches for foo; append `!` to refresh local cache
" :PluginClean      - confirms removal of unused plugins; append `!` to auto-approve removal
"
" see :h vundle for more details or wiki for FAQ
" Put your non-Plugin stuff after this line
" }}}

" NERDTree é…ç½®{{{
" Ctrl+N æ‰“å¼€/å…³é—­
nmap <C-n> :NERDTreeToggle<CR>
" å½“ä¸å¸¦å‚æ•°æ‰“å¼€Vimæ—¶è‡ªåŠ¨åŠ è½½é¡¹ç›®æ ‘
autocmd StdinReadPre * let s:std_in=1
autocmd VimEnter * if argc() == 0 && !exists("s:std_in") | NERDTree | endif
" å½“æ‰€æœ‰æ–‡ä»¶å…³é—­æ—¶å…³é—­é¡¹ç›®æ ‘çª—æ ¼
autocmd bufenter * if (winnr("$") == 1 && exists("b:NERDTreeType") && b:NERDTreeType == "primary") | q | endif
" ä¸æ˜¾ç¤ºè¿™äº›æ–‡ä»¶
let NERDTreeIgnore=['\.pyc$', '\~$', 'node_modules'] "ignore files in NERDTree
" ä¸æ˜¾ç¤ºé¡¹ç›®æ ‘ä¸Šé¢å¤–çš„ä¿¡æ¯ï¼Œä¾‹å¦‚å¸®åŠ©ã€æç¤ºä»€ä¹ˆçš„
let NERDTreeMinimalUI=1
" è®¾ç½®gitä¿®æ”¹æ–‡ä»¶
let g:NERDTreeIndicatorMapCustom = {
    \ "Modified"  : "âœ¹",
    \ "Staged"    : "âœš",
    \ "Untracked" : "âœ­",
    \ "Renamed"   : "âœ",
    \ "Unmerged"  : "â•",
    \ "Deleted"   : "âœ–",
    \ "Dirty"     : "âœ—",
    \ "Clean"     : "âœ”ï¸",
    \ "Unknown"   : "?"
    \ }
" }}}

"å…¨å±€æœç´¢ctrlp{{{
let g:ctrlp_working_path_mode = 'ra'
set wildignore+=*/tmp/*,*/node_modules/*,*.so,*.swp,*.zip     
let g:ctrlp_custom_ignore = {'dir':  '\v[\/]\.(git|hg|svn)$', 'file': '\v\.(exe|so|dll)$'}
" }}}

" Ariline é…ç½®{{{
let g:airline#extensions#tabline#enabled = 1
let g:airline#extensions#tabline#buffer_nr_show = 1
let g:airline#extensions#tabline#left_sep = ' '
let g:airline#extensions#tabline#left_alt_sep = '|'

" è®¾ç½®åˆ‡æ¢bufferçš„å¿«æ·é”®
nnoremap <leader>n :bn<CR>
nnoremap <leader>p :bp<CR>

if !exists('g:airline_symbols')
  let g:airline_symbols = {}
endif

" unicode symbols
let g:airline_left_sep = 'Â»'
let g:airline_left_sep = 'â–¶'
let g:airline_right_sep = 'Â«'
let g:airline_right_sep = 'â—€'
let g:airline_symbols.crypt = 'ğŸ”’'
let g:airline_symbols.linenr = 'âŠ'
let g:airline_symbols.linenr = 'â¤'
let g:airline_symbols.linenr = 'Â¶'
let g:airline_symbols.maxlinenr = 'â˜°'
let g:airline_symbols.maxlinenr = ''
let g:airline_symbols.branch = 'â‡'
let g:airline_symbols.paste = 'Ï'
let g:airline_symbols.paste = 'Ã'
let g:airline_symbols.paste = 'âˆ¥'
let g:airline_symbols.spell = 'ê¨'
let g:airline_symbols.notexists = 'âˆ„'
let g:airline_symbols.whitespace = 'Î'

" powerline symbols
let g:airline_left_sep = 'î‚°'
let g:airline_left_alt_sep = 'î‚±'
let g:airline_right_sep = 'î‚²'
let g:airline_right_alt_sep = 'î‚³'
let g:airline_symbols.branch = 'î‚ '
let g:airline_symbols.readonly = 'î‚¢'
let g:airline_symbols.linenr = 'î‚¡'
" }}}

" å°†vimä¸­copyçš„æ‰€æœ‰å†…å®¹åŠ å…¥ç³»ç»Ÿå‰ªåˆ‡æ¿
set clipboard=unnamed

" ctagsé…ç½®{{{
"" æŒ‰ä¸‹F9é‡æ–°ç”Ÿæˆtagæ–‡ä»¶ï¼Œå¹¶æ›´æ–°taglist
map <F9> :!ctags -R --c++-kinds=+p --fields=+iaS --extra=+q .<CR><CR> :TlistUpdate<CR>
imap <F9> <ESC>:!ctags -R --c++-kinds=+p --fields=+iaS --extra=+q .<CR><CR> :TlistUpdate<CR>
set tags=tags
set tags+=./tags "add current directory's generated tags file

let Tlist_Show_One_File=1 " åªå±•ç¤ºä¸€ä¸ªæ–‡ä»¶çš„taglist 
let Tlist_Exit_OnlyWindow=1 " å½“taglistæ˜¯æœ€åä»¥ä¸ªçª—å£æ—¶è‡ªåŠ¨é€€å‡º 
let Tlist_Use_Right_Window=1 " åœ¨å³è¾¹æ˜¾ç¤ºtaglistçª—å£ 
let Tlist_Sort_Type="name" " tagæŒ‰åå­—æ’åº
" }}}

" OmniCompleteè®¾ç½®{{{
filetype plugin indent on 
set completeopt=longest,menu 
let OmniCpp_NamespaceSearch = 2 " search namespaces in the current buffer and in included files 
let OmniCpp_ShowPrototypeInAbbr = 1 " æ˜¾ç¤ºå‡½æ•°å‚æ•°åˆ—è¡¨ 
let OmniCpp_MayCompleteScope = 1 " è¾“å…¥ :: åè‡ªåŠ¨è¡¥å…¨ 
let OmniCpp_DefaultNamespaces = ["std", "_GLIBCXX_STD"]
" }}}
 
" è‡ªåŠ¨ç¼–è¯‘è¿è¡Œ{{{
" F6ç¼–è¯‘å’Œè¿è¡ŒCç¨‹åºï¼ŒC++ç¨‹åº,Pythonç¨‹åºï¼Œshellç¨‹åºï¼ŒF9 gdbè°ƒè¯•
" è¯·æ³¨æ„ï¼Œä¸‹è¿°ä»£ç åœ¨windowsä¸‹ä½¿ç”¨ä¼šæŠ¥é”™ï¼Œéœ€è¦å»æ‰./è¿™ä¸¤ä¸ªå­—ç¬¦
" <leader>6 ç¼–è¯‘å’Œè¿è¡ŒC
map <leader>6 :call CompileRunGcc()<cr>
func! CompileRunGcc()
exec "w"
exec "!gcc % -o %<"
exec "! ./%<"
endfunc
 
"< F7> ç¼–è¯‘å’Œè¿è¡ŒC++
map <leader>7 :call CompileRunGpp()<cr>
func! CompileRunGpp()
exec "w"
exec "!g++ % -o %< && ./%<"
" exec "! ./%<"
endfunc
  
" <leader>8 è¿è¡Œpythonç¨‹åº
map <leader>8 :w<cr>:!python %<cr>
 
"<leader>9  gdbè°ƒè¯•
map <leader>9 :call Debug()<cr>
func!  Debug()
exec "w"
exec "!gcc % -o %< -gstabs+"
exec "!gdb %<"
endfunc
" }}}
